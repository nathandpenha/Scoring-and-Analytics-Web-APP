<html>
<head>
<script type="text/javascript">
	xhr=false;
	if(window.XMLHttpRequest)
	{
	xhr=new XMLHttpRequest();
	}
	else if(window.ActiveXObject)
	{
	xhr=new ActiveXObject("Microsoft.XMLHTTP");
	}

	function getNames()
	{
		if(xhr)
		{	url="http://127.0.0.1:9191/name";
			xhr.open("GET",url);
			xhr.onreadystatechange=callback;

			xhr.send(null);
		}



	}
	function callback()
	{
		if(xhr.readyState==4&&xhr.status==200)
		{
			call(xhr.responseText);
		}
	}
	function call() {
	    if ((xhr.readyState == 4) && (xhr.status == 200)){
		      var arr = (xhr.responseText.trim()).split(",");

			for(i=0;i<arr.length;i++)
			{
				arr[i] = arr[i].replace("\"","");
				arr[i] = arr[i].replace("\"","");
				arr[i] = arr[i].replace("[","");
				arr[i] = arr[i].replace("]","");
				document.getElementById('names').options[i] = new Option(arr[i],arr[i]);
				// console.log(arr[i]);
			}
		}
	}
	
	function plot()
	{
	
	format="blank"
	
	
	if(document.getElementById("c1").checked){	format="T20I"}
	else if(document.getElementById("c2").checked){format="ODI"}
	else if(document.getElementById("c3").checked){format="Test"}
	
	
	
	url="http://127.0.0.1:9191/"+document.getElementById("typeofplot").value
	url=url+"?name="+document.getElementById("names").value+"&format="+format;
	
	//alert(url)
	
	document.getElementById("plot1").src=url;	
	}
	
</script>
</head>

<body onload=getNames()>

<h1>R Is Very Powerful </h1>
	<form id="f">
	
	T20I<input id=c1 type="radio" name="format" value="T20I" onclick=plot() >
	
	ODI<input id=c2 type="radio" name="format" value="ODI" onclick=plot()>
	
	Test<input id=c3 type="radio" name="format" value="Test" onclick=plot()>
	<br>
	<select id="names" onchange=plot()>
		</select><br>
	<select id="typeofplot" size=12 onchange=plot()>
	
	<option value=batsmanfours  >Batsman 4s</option>

<option value=batsmansixs  >Batsman 6s</option>
	<option value=batsmanAvgRunsGround  >Batsman Avg Runs Ground</option>
<option value=batsmanAvgRunsOpposition>Batsman Avg Runs Opposition</option>
	<option value=BoundariesVsSingles>Boundaries Vs Singles</option>
	
	<option value=batsmanContributionWonLost  >Batsman Contribution Won Lost</option>
	<option value=batsmanPerfForecast>Batsman Performance Forecast</option>
	<option value=batsmanCumulativeAverageRuns>Batsman Cumulative Average Runs</option>
	<option value=batsmanMeanStrikeRate>Batsman Mean Strike Rate</option>
	<option value=batsmanMovingAverage>	Batsman Moving Average</option>
	<option value=batsmanPerfHomeAway>Batsman Performance Home Away</option>
<option value=batsmanRunsRanges>Batsman Runs Ranges</option>
<option value=batsmanRunsFreqPerf>Batsman Runs Frequency Performance</option>
<option value=batsmanPerfBoxHist>Batsman Performance Box History</option>
<option value=battingPerfd>Batting Performance</option>
<option value=batsmanDismissals>Batsman Dismissals</option>
<option value=batsmanScoringRateODTT>Batsman Scoring Rate ODTT</option>


</select>
	 

		
	</form>

 

		<img id="plot1"  >
	
	
	
</body>
</html>
